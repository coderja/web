<!DOCTYPE html>
<html>
<head lang="en">
    <meta charset="UTF-8">
    <title>变形操作</title>
    <style>
        body{
            padding: 0;
            margin: 0;
        }
    </style>
</head>
<body>
    <canvas id="cavs"></canvas>
    <script>
        var y = window.innerHeight-5;
        var x = window.innerWidth;
        cavs.height=y
        cavs.width=x
        var ctx = cavs.getContext('2d');
        //cavs.style.background='#3af'
        var g = ctx.createLinearGradient(0,0,x,y);
        g.addColorStop(0,"#ddd")
        g.addColorStop(0.5,"#f2f2f2")
        g.addColorStop(0,"#3af")
        ctx.fillStyle=g;
        ctx.fillRect(0,0,x,y);
        var img = new Image();
        img.src='p3.png';
        img.onload=function(){
            var deg1 = 10;
            var deg2 = 20;
            var deg3 = 30;
            var timer = setInterval(function(){
                ctx.clearRect(0,0,x,y)
                var g = ctx.createLinearGradient(0,0,x,y);
                g.addColorStop(0,"#ddd")
                g.addColorStop(0.5,"#f2f2f2")
                g.addColorStop(0,"#3af")
                ctx.fillStyle=g;
                ctx.fillRect(0,0,x,y);
                //第一架飞机 平移 旋转 绘图 逆向旋转 逆向平移
                ctx.save();
                ctx.translate(x/2,y/2)
                ctx.rotate(deg1*Math.PI/180);
                ctx.drawImage(img,310,100)
                ctx.restore();
                deg1+=10;
                ctx.save();
                ctx.translate(x/2,y/2)
                ctx.rotate(deg2*Math.PI/180);
                ctx.drawImage(img,100,100);
                ctx.restore();
                deg2-=10
                ctx.save();
                ctx.translate(x/2,y/2)
                ctx.rotate(deg3*Math.PI/180);
                ctx.drawImage(img,-100,-30);
                ctx.restore();
                deg3+=30

            },100)
        }
    </script>
</body>
</html>